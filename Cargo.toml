[package]
name = "ouisync"
description = "Secure P2P file sharing"
version = "0.1.0"
authors = ["Adam Cig√°nek <adam@equalit.ie>", "Peter Jankuliak <peter@equalit.ie>"]
license = "MPL-2.0"
edition = "2018"

[lib]
crate-type = ["lib", "cdylib"] # TODO: we might also need `staticlib` for ios

[dependencies]
anyhow = "1.0.40"
bincode = "1.3"
chacha20poly1305 = { version = "0.8.0-pre", features = ["alloc", "stream"] }
dirs = "3.0.1"
env_logger = "0.8.3"
futures = "0.3.14"
log = "0.4.14"
net2 = "0.2" # To be able to setsockopts before a socket is bound
rand = "0.8.3"
serde = { version = "1.0", features = ["derive"] }
sha3 = "0.9.1"
sqlx = { version = "0.5.2", features = ["runtime-tokio-rustls", "sqlite"] }
structopt = "0.3.21"
thiserror = "1.0.24"
tokio = { version = "1.5.0", features = ["fs", "macros", "rt-multi-thread", "signal", "sync", "time", "net"] }
zeroize = "1.2.0"
lru = "0.6.5"

[target.'cfg(unix)'.dependencies]
libc = "0.2.93"
fuser = "0.7.0"

# The latest published version doesn't have the stream support yet:
[patch.crates-io]
chacha20poly1305 = { git = "https://github.com/RustCrypto/AEADs.git" }
chacha20 = { git = "https://github.com/RustCrypto/stream-ciphers.git" }
