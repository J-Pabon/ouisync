[package]
name = "ouisync-net"
description = "Low-level networking utilities"
publish = false
authors.workspace = true
edition.workspace = true
license.workspace = true
version.workspace = true

[dependencies]
bytes = "1.1.0"
futures-util = { workspace = true }
quinn = "0.9.3"
quinn-udp = "0.3.1"
quinn-proto = "0.9.2"
rcgen = { version = "0.10.0", default-features = false }
rustls = { workspace = true, features = ["quic", "dangerous_configuration"] }
socket2 = "0.4.4" # To be able to setsockopts before a socket is bound
thiserror = "1.0.31"
tokio = { workspace = true, features = ["io-util", "net", "rt-multi-thread", "sync"] }
turmoil = { workspace = true, optional = true }

[dev-dependencies]
tokio = { workspace = true, features = ["macros"] }

[features]
simulation = ["turmoil"]
